{{define "title"}}Savollarni boshqarish - AvtotestPrime{{end}}

{{define "content"}}
<div class="page-header">
    <h1><i class="fas fa-list"></i> Savollar ({{len .Questions}})</h1>
    <a href="/admin-panel/questions/add/" class="btn btn-primary">
        <i class="fas fa-plus"></i> Savol qo'shish
    </a>
</div>

<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Savol</th>
                <th>Rasm</th>
                <th>To'g'ri javob</th>
                <th>Harakatlar</th>
            </tr>
        </thead>
        <tbody>
            {{if .Questions}}
            {{range .Questions}}
            <tr>
                <td>{{.Number}}</td>
                <td class="text-truncate">{{truncateWords .Text 10}}</td>
                <td>
                    {{if hasImage .Image}}
                    <img src="{{imageURL .Image}}" alt="" class="table-thumb" onclick="openImageModal('{{imageURL .Image}}')">
                    {{else}}
                    <span class="text-muted">-</span>
                    {{end}}
                </td>
                <td><span class="answer-badge">{{.CorrectAnswer}}</span></td>
                <td>
                    <div class="action-btns">
                        <a href="/admin-panel/questions/{{.ID}}/edit/" class="btn btn-sm btn-outline">
                            <i class="fas fa-edit"></i>
                        </a>
                        <form method="post" action="/admin-panel/questions/{{.ID}}/delete/" style="display:inline;" onsubmit="return confirm('Savolni o\'chirasizmi?')">
                            <input type="hidden" name="csrf_token" value="{{$.CSRFToken}}">
                            <button type="submit" class="btn btn-sm btn-danger">
                                <i class="fas fa-trash"></i>
                            </button>
                        </form>
                    </div>
                </td>
            </tr>
            {{end}}
            {{else}}
            <tr>
                <td colspan="5" class="text-center">Savollar topilmadi</td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}
