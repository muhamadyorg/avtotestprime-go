{{define "title"}}Barcha savollar - AvtotestPrime{{end}}

{{define "content"}}
<div class="page-header">
    <h1><i class="fas fa-list"></i> Barcha savollar ({{len .Questions}})</h1>
</div>

<div class="questions-list">
    {{if .Questions}}
    {{range .Questions}}
    {{$q := .}}
    <div class="question-card">
        <div class="question-card-content">
            <div class="question-info">
                <div class="question-number">#{{.Number}}</div>
                <div class="question-text">{{.Text}}</div>
            </div>
            {{if hasImage .Image}}
            <div class="question-thumb" onclick="openImageModal('{{imageURL .Image}}')">
                <img src="{{imageURL .Image}}" alt="Savol rasmi">
            </div>
            {{end}}
        </div>
        <div class="question-variants">
            {{range .VariantsList}}
            <div class="variant {{if eq $q.CorrectAnswer .Letter}}variant-correct{{end}}">
                <span class="variant-letter">{{.Letter}}</span> {{.Text}}
            </div>
            {{end}}
        </div>
        <div class="question-actions">
            <a href="/bookmark/toggle/{{.ID}}/" class="btn btn-sm {{if contains $.UserBookmarks $q.ID}}btn-warning{{else}}btn-outline{{end}}" onclick="event.preventDefault(); toggleBookmark(this, {{$q.ID}});">
                <i class="fas fa-bookmark"></i>
                {{if contains $.UserBookmarks $q.ID}}Saqlangan{{else}}Saqlash{{end}}
            </a>
        </div>
    </div>
    {{end}}
    {{else}}
    <div class="empty-state">
        <i class="fas fa-inbox"></i>
        <p>Hozircha savollar mavjud emas</p>
    </div>
    {{end}}
</div>
{{end}}
